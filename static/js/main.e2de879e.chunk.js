(this["webpackJsonpsuperheroes-search"]=this["webpackJsonpsuperheroes-search"]||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),i=n.n(a),s=(n(17),n(7)),o=n(3),l=n.n(o),u=n(5),j=n(2),h=(n(19),n(10)),d="".concat("https://superheroapi.com/api.php","/").concat("2890093177898426");function b(e){return"".concat(d,"/search/").concat(e)}function f(e){return"".concat(d,"/").concat(e)}function p(e){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log("OUR ERROR",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(l.a.mark((function e(t){var n,c,r,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],c=Object(h.a)(t),e.prev=2,c.s();case 4:if((r=c.n()).done){e.next=10;break}return a=r.value,e.next=8,fetch(f(a)).then((function(e){return e.json()}),(function(e){return console.log(e)})).then((function(e){return n=[].concat(Object(s.a)(n),[e])}));case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),c.e(e.t0);case 15:return e.prev=15,c.f(),e.finish(15);case 18:return e.next=20,Promise.all(n);case 20:return i=e.sent,e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}var m=n(0);function g(e){var t=e.title,n=e.children;return Object(m.jsxs)("div",{className:"section",children:[Object(m.jsx)("span",{className:"sectionTitle",children:t}),Object(m.jsx)("div",{className:"sectionContent",children:n})]})}function w(e){var t=e.title,n=e.children,c=e.id;return Object(m.jsx)(g,{title:t,children:Object(m.jsx)("ul",{className:"list",children:n.map((function(e,t){return Object(m.jsx)("li",{children:e},"".concat(c,"_").concat(t))}))})})}function F(e){var t=e.title,n=e.onClick,c=e.isActive,r=e.children;return Object(m.jsxs)("div",{className:"dropdownContainer",children:[Object(m.jsxs)("button",{className:c?"dropdownButton active":"dropdownButton",onClick:n,children:[t,Object(m.jsx)("p",{className:c?"arrow up":"arrow down"})]}),c&&r]})}function N(e){var t=e.isFavorite,n=e.onClick;return Object(m.jsx)("div",{className:"favoriteContainer",children:Object(m.jsx)("button",{className:"favorite",onClick:n,children:t?"\u2605":"\u2606"})})}function k(e){var t=e.title,n=e.value;return Object(m.jsx)(g,{title:t,children:Object(m.jsx)("div",{className:"scaleContainer",children:Object(m.jsx)("div",{className:"scale",style:{width:n+"%"},children:n})})})}function C(e){var t=e.id,n=e.name,r=e.imgUrl,a=e.biography,i=e.powerstats,s=e.appearance,o=e.occupation,l=e.relatives,u=e.addFavorite,h=e.removeFavorite,d=e.isFavorite,b=Object(c.useState)(!1),f=Object(j.a)(b,2),p=f[0],v=f[1],O=Object(c.useState)(!1),x=Object(j.a)(O,2),C=x[0],y=x[1],S=Object(c.useState)(!1),A=Object(j.a)(S,2),I=A[0],L=A[1];function B(e){return e.split(/,(?![^()]*\))\s*/)}return Object(m.jsxs)("div",{className:"characterCard "+a.alignment,children:[Object(m.jsx)(N,{isFavorite:d,onClick:function(){d?h():u()}}),Object(m.jsx)("h1",{className:"characterTitle",children:n}),Object(m.jsx)("img",{src:r,alt:n,className:"characterImage"}),Object(m.jsx)(g,{title:"Full name",children:a["full-name"]}),Object(m.jsx)(g,{title:"Publisher",children:a.publisher}),Object(m.jsxs)(F,{title:"More info",isActive:I,onClick:function(){return L(!I)},children:["-"!==a.aliases&&Object(m.jsx)(w,{title:"Aliases",id:t,children:a.aliases}),Object(m.jsx)(g,{title:"Place of Birth",children:a["place-of-birth"]}),Object(m.jsx)(g,{title:"Alignment",children:a.alignment}),Object(m.jsxs)(F,{title:"Appearance",isActive:p,onClick:function(){return v(!p)},children:[Object(m.jsx)(g,{title:"Gender",children:s.gender}),Object(m.jsx)(g,{title:"Race",children:s.race}),"-"!==s.height[0]&&Object(m.jsx)(g,{title:"Height",children:s.height[0]+" "+s.height[1]}),"-"!==s.height[0]&&Object(m.jsx)(g,{title:"Weight",children:s.weight[0]+" "+s.weight[1]}),Object(m.jsx)(g,{title:"Hair color",children:s["hair-color"]}),Object(m.jsx)(g,{title:"Eye color",children:s["eye-color"]})]}),Object(m.jsx)(F,{title:"Powerstats",isActive:C,onClick:function(){return y(!C)},children:Object.entries(i).map((function(e,n){return"null"!==e[1]&&Object(m.jsx)(k,{title:(c=e[0],c.slice(0,1).toUpperCase()+c.slice(1)),value:e[1]},"".concat(t,"_").concat(n));var c}))}),"-"!==o&&Object(m.jsx)(w,{title:"Occupation",id:t,children:B(o)}),"-"!==l&&Object(m.jsx)(w,{title:"Relatives",id:t,children:B(l)})]})]})}function y(e){var t=e.characters,n=e.addFavorite,c=e.removeFavorite,r=e.favoriteIdList;return Object(m.jsx)("div",{className:"charactersList",children:t.map((function(e){return Object(m.jsx)(C,{id:e.id,name:e.name,imgUrl:e.image.url,biography:e.biography,powerstats:e.powerstats,appearance:e.appearance,occupation:e.work.occupation,relatives:e.connections.relatives,addFavorite:function(){return n(e.id)},removeFavorite:function(){return c(e.id)},isFavorite:r.includes(e.id)},e.id)}))})}var S=n(11),A=n(12),I=function(){function e(){Object(S.a)(this,e)}return Object(A.a)(e,null,[{key:"getFavorites",value:function(){return JSON.parse(localStorage.getItem("favoriteList"))||[]}},{key:"setFavorites",value:function(e){localStorage.setItem("favoriteList",JSON.stringify(e))}}]),e}();function L(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(j.a)(a,2),o=i[0],h=i[1],d=Object(c.useState)(),b=Object(j.a)(d,2),f=b[0],v=b[1],x=function(e,t){var n=Object(c.useState)(e),r=Object(j.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e]),a}(o,300),g=Object(c.useState)(I.getFavorites()),w=Object(j.a)(g,2),F=w[0],N=w[1],k=Object(c.useState)(!1),C=Object(j.a)(k,2),S=C[0],A=C[1],L=Object(c.useState)(""),B=Object(j.a)(L,2),E=B[0],P=B[1];function R(e){if(!F.includes(e)){var t=[].concat(Object(s.a)(F),[e]);I.setFavorites(t),N(t)}}function T(e){var t=F.filter((function(t){return t!==e}));I.setFavorites(t),N(t)}return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,p(x);case 3:t=e.sent,n=t.results,A(!1),v(n),r(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x]),Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(F);case 2:t=e.sent,P(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[F]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("input",{type:"text",name:"search",placeholder:"Search...",autoComplete:"off",value:o,onChange:function(e){h(e.target.value)}}),Object(m.jsx)("button",{className:"favoriteModeButton",onClick:function(){A(!S)},children:S?"Hide favorite":"Show favorite"}),S?Object(m.jsx)(y,{characters:E,addFavorite:R,removeFavorite:T,favoriteIdList:F}):f?Object(m.jsx)(y,{characters:f,addFavorite:R,removeFavorite:T,favoriteIdList:F}):n?Object(m.jsx)("p",{className:"loader"}):o&&Object(m.jsx)("p",{className:"errorMessage",children:"No superheroes found."})]})}var B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root")),B()}},[[21,1,2]]]);
//# sourceMappingURL=main.e2de879e.chunk.js.map